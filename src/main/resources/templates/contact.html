<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - Salud con Amor</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
    <link rel="stylesheet" th:href="@{/contact.css}">
</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <div class="header-inner">
            <div class="brand">
                <a th:href="@{/}">
                    <img th:src="@{/images/logo.png}" alt="Salud con Amor" class="logo-img">
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a th:href="@{/}" class="elements">Inicio</a></li>
                    <li><a th:href="@{/productos}" class="elements">Productos</a></li>
                    <li><a th:href="@{/orders}" class="elements">Mis Pedidos</a></li>
                    <li><a th:href="@{/contact}" class="elements active">Contacto</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <form th:action="@{/busquedaNombre}" method="get" class="search">
                    <input type="text" name="nombre" placeholder="Buscar productos...">
                    <button type="submit">üîç</button>
                </form>
                <a th:href="@{/cart}" class="cart">
                    üõí <span class="cart-badge" th:text="${#authentication.principal.cartCount ?: 0}">0</span>
                </a>
            </div>
        </div>
    </header>

    <main class="contact-container">
        <div class="contact-header">
            <h1>¬øNecesitas Ayuda?</h1>
            <p>Estamos aqu√≠ para resolver tus dudas y problemas con tus pedidos</p>
        </div>

        <div th:if="${success}" class="alert alert-success">
            <span th:text="${message}">¬°Tu mensaje ha sido enviado con √©xito!</span>
        </div>

        <div class="contact-grid">
            <div class="contact-info">
                <h2>Informaci√≥n de Contacto</h2>
                <div class="contact-methods">
                    <div class="contact-method">
                        <div class="method-icon">üìû</div>
                        <div class="method-info">
                            <h3>Tel√©fono</h3>
                            <p>+506 4000-1234</p>
                            <p>Lunes a Viernes: 8:00 AM - 6:00 PM</p>
                        </div>
                    </div>
                    <div class="contact-method">
                        <div class="method-icon">‚úâÔ∏è</div>
                        <div class="method-info">
                            <h3>Email</h3>
                            <p>soporte@saludconamor.cr</p>
                            <p>Respuesta en 24 horas</p>
                        </div>
                    </div>
                    <div class="contact-method">
                        <div class="method-icon">üí¨</div>
                        <div class="method-info">
                            <h3>WhatsApp</h3>
                            <p>+506 8888-8888</p>
                            <p>Atenci√≥n inmediata</p>
                        </div>
                    </div>
                    <div class="contact-method">
                        <div class="method-icon">üè™</div>
                        <div class="method-info">
                            <h3>Tiendas F√≠sicas</h3>
                            <p>San Jos√© Centro</p>
                            <p>Escaz√∫, Multiplaza</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="contact-form">
                <h2>Env√≠anos un Mensaje</h2>
                <form th:action="@{/contact}" method="post">
                    <div class="form-group">
                        <label for="name">Nombre completo *</label>
                        <input type="text" id="name" name="name" class="form-control" required 
                               th:value="${#authentication.principal.username}">
                    </div>
                    <div class="form-group">
                        <label for="email">Correo electr√≥nico *</label>
                        <input type="email" id="email" name="email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="orderId">N√∫mero de pedido (opcional)</label>
                        <input type="text" id="orderId" name="orderId" class="form-control" 
                               th:value="${param.orderId}">
                    </div>
                    <div class="form-group">
                        <label for="subject">Asunto *</label>
                        <select id="subject" name="subject" class="form-control" required>
                            <option value="">Selecciona un asunto</option>
                            <option value="problema-pedido">Problema con mi pedido</option>
                            <option value="seguimiento-pedido">Seguimiento de pedido</option>
                            <option value="devolucion">Devoluci√≥n o cambio</option>
                            <option value="facturacion">Problema con facturaci√≥n</option>
                            <option value="producto">Consulta sobre producto</option>
                            <option value="general">Consulta general</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message">Mensaje *</label>
                        <textarea id="message" name="message" class="form-control" 
                                  placeholder="Describe tu duda o problema en detalle..." required></textarea>
                    </div>
                    <button type="submit" class="btn-submit">Enviar Mensaje</button>
                </form>
            </div>
        </div>

        <div class="faq-section">
            <h2>Preguntas Frecuentes</h2>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    ¬øC√≥mo puedo hacer seguimiento a mi pedido?
                    <span>+</span>
                </div>
                <div class="faq-answer">
                    Puedes revisar el estado de tu pedido en la secci√≥n "Mis Pedidos" en tu cuenta. 
                    All√≠ encontrar√°s informaci√≥n actualizada sobre el proceso de env√≠o.
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    ¬øCu√°nto tiempo tarda la entrega?
                    <span>+</span>
                </div>
                <div class="faq-answer">
                    El tiempo de entrega var√≠a seg√∫n tu ubicaci√≥n: 
                    ‚Ä¢ √Årea Metropolitana: 1-2 d√≠as h√°biles
                    ‚Ä¢ Otras provincias: 3-5 d√≠as h√°biles
                    ‚Ä¢ Zonas rurales: 5-7 d√≠as h√°biles
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    ¬øPuedo modificar o cancelar mi pedido?
                    <span>+</span>
                </div>
                <div class="faq-answer">
                    Los pedidos pueden ser modificados o cancelados dentro de las primeras 2 horas 
                    despu√©s de realizado el pedido. Despu√©s de ese tiempo, contacta con soporte 
                    para ver las opciones disponibles.
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    ¬øQu√© m√©todos de pago aceptan?
                    <span>+</span>
                </div>
                <div class="faq-answer">
                    Aceptamos: Tarjetas de cr√©dito/d√©bito (Visa, MasterCard), Sinpe M√≥vil, 
                    transferencias bancarias y efectivo en tiendas f√≠sicas.
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-inner">
            <div>
                <h4>Salud con Amor</h4>
                <a href="#">Sobre nosotros</a>
                <a href="#">Nuestras tiendas</a>
                <a href="#">Trabaja con nosotros</a>
            </div>
            <div>
                <h4>Productos</h4>
                <a th:href="@{/vitaminas}">Vitaminas</a>
                <a th:href="@{/suplementos}">Suplementos</a>
                <a th:href="@{/nuevos}">Nuevos</a>
            </div>
            <div>
                <h4>Atenci√≥n al cliente</h4>
                <a th:href="@{/contact}">Cont√°ctanos</a>
                <a href="#">Preguntas frecuentes</a>
                <a href="#">T√©rminos y condiciones</a>
            </div>
            <div>
                <h4>Mi cuenta</h4>
                <a th:href="@{/orders}">Mis pedidos</a>
                <a th:href="@{/order-history}">Historial</a>
                <a th:href="@{/invoices}">Facturas</a>
            </div>
            <div class="copyright">
                ¬© 2025 Salud con Amor - Todos los derechos reservados.
            </div>
        </div>
    </footer>

    <script>
        function toggleFAQ(element) {
            const answer = element.nextElementSibling;
            const isOpen = answer.style.display === 'block';
            
            // Cerrar todas las FAQs
            document.querySelectorAll('.faq-answer').forEach(el => {
                el.style.display = 'none';
            });
            document.querySelectorAll('.faq-question span').forEach(el => {
                el.textContent = '+';
            });
            
            // Abrir la clicked si estaba cerrada
            if (!isOpen) {
                answer.style.display = 'block';
                element.querySelector('span').textContent = '‚àí';
            }
        }

        // Cerrar todas las FAQs al cargar
        document.querySelectorAll('.faq-answer').forEach(el => {
            el.style.display = 'none';
        });
    </script>
</body>
</html>